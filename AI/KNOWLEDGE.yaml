meta:
  project: "AI_KIT_REPO"
  ai_kit_version: "1.2.0"
  updated_at: "2026-02-16"

commands:
  canonical:
    scan_tree: "Get-ChildItem -Recurse -Force"
    search_references: "rg -n -i \"legacy_ai_flow_markers\""
    validate_schema_knowledge: "Get-Content -Raw AI/SCHEMAS/knowledge.schema.json | ConvertFrom-Json | Out-Null"
    validate_schema_tasks: "Get-Content -Raw AI/SCHEMAS/tasks.schema.json | ConvertFrom-Json | Out-Null"

entities:
  - id: "dir:AI"
    type: "directory"
    name: "AI root"
    path: "AI"
    notes: "Cartella unica da copiare nelle repo target."
  - id: "dir:AI/CHECKLISTS"
    type: "directory"
    name: "Checklists"
    path: "AI/CHECKLISTS"
    notes: "Controlli smoke e pre-release."
  - id: "dir:AI/EXAMPLES"
    type: "directory"
    name: "Examples"
    path: "AI/EXAMPLES"
    notes: "Esempi pratici generici per compilazione e task."
  - id: "dir:AI/SCHEMAS"
    type: "directory"
    name: "Schemas"
    path: "AI/SCHEMAS"
    notes: "Schema JSON di supporto per knowledge e tasks export."
  - id: "file:AI/README.md"
    type: "file"
    name: "AI README"
    path: "AI/README.md"
    notes: "Guida operativa principale."
  - id: "file:AI/AI_PROJECT.md"
    type: "file"
    name: "AI_PROJECT"
    path: "AI/AI_PROJECT.md"
    notes: "Scope, vincoli, DoD e quality gates."
  - id: "file:AI/AI_PRD.md"
    type: "file"
    name: "AI_PRD"
    path: "AI/AI_PRD.md"
    notes: "Requisiti di prodotto e tecnici."
  - id: "file:AI/AI_TASKS.md"
    type: "file"
    name: "AI_TASKS"
    path: "AI/AI_TASKS.md"
    notes: "Piano step-by-step con stato e acceptance."
  - id: "file:AI/AI_RUNBOOK.md"
    type: "file"
    name: "AI_RUNBOOK"
    path: "AI/AI_RUNBOOK.md"
    notes: "Comandi operativi da compilare nella repo target."
  - id: "file:AI/AI_CONVENTIONS.md"
    type: "file"
    name: "AI_CONVENTIONS"
    path: "AI/AI_CONVENTIONS.md"
    notes: "Regole su naming, commit e guardrail."
  - id: "file:AI/AI_INVENTORY.md"
    type: "file"
    name: "AI_INVENTORY"
    path: "AI/AI_INVENTORY.md"
    notes: "Perimetro noto, gap e vincoli su assunzioni."
  - id: "file:AI/DECISIONS.md"
    type: "file"
    name: "DECISIONS"
    path: "AI/DECISIONS.md"
    notes: "Registro decisioni tecniche."
  - id: "file:AI/KNOWLEDGE.yaml"
    type: "file"
    name: "KNOWLEDGE"
    path: "AI/KNOWLEDGE.yaml"
    notes: "Memoria esterna con entita, relazioni e log modifiche."
  - id: "file:AI/METADATA.yaml"
    type: "file"
    name: "METADATA"
    path: "AI/METADATA.yaml"
    notes: "Dati di identificazione e versione kit."

relations:
  - from: "file:AI/README.md"
    type: "defines_process_for"
    to: "file:AI/AI_TASKS.md"
  - from: "file:AI/AI_TASKS.md"
    type: "requires_update_of"
    to: "file:AI/KNOWLEDGE.yaml"
  - from: "file:AI/AI_TASKS.md"
    type: "requires_update_of"
    to: "file:AI/DECISIONS.md"
  - from: "dir:AI/CHECKLISTS"
    type: "supports_validation_of"
    to: "file:AI/AI_TASKS.md"
  - from: "dir:AI/SCHEMAS"
    type: "validates_structure_of"
    to: "file:AI/KNOWLEDGE.yaml"

changes_log:
  - step_id: "STEP-001"
    summary: "Bootstrap iniziale della cartella AI con file base, checklist e schemi."
    commit: "N/A (no git repository)"
    files:
      - "AI/METADATA.yaml"
      - "AI/AI_PROJECT.md"
      - "AI/AI_PRD.md"
      - "AI/AI_TASKS.md"
      - "AI/AI_RUNBOOK.md"
      - "AI/AI_CONVENTIONS.md"
      - "AI/AI_INVENTORY.md"
      - "AI/DECISIONS.md"
      - "AI/KNOWLEDGE.yaml"
      - "AI/CHECKLISTS/SMOKE.md"
      - "AI/CHECKLISTS/RELEASE.md"
      - "AI/SCHEMAS/knowledge.schema.json"
      - "AI/SCHEMAS/tasks.schema.json"
    commands:
      - "Get-ChildItem -Recurse -Force"
      - "rg --files"
    notes: "Setup iniziale completato."
    risks:
      - "Contenuti da adattare nel progetto target."
  - step_id: "STEP-002"
    summary: "Migliorata guida operativa con esempi pratici e placeholder uniformi."
    commit: "N/A (no git repository)"
    files:
      - "AI/README.md"
      - "AI/AI_PROJECT.md"
      - "AI/AI_PRD.md"
      - "AI/AI_TASKS.md"
      - "AI/AI_RUNBOOK.md"
      - "AI/AI_CONVENTIONS.md"
      - "AI/AI_INVENTORY.md"
      - "AI/DECISIONS.md"
      - "AI/KNOWLEDGE.yaml"
      - "AI/EXAMPLES/EXAMPLE_PRD_from_workflow.md"
      - "AI/EXAMPLES/EXAMPLE_AI_TASKS.md"
    commands:
      - "Get-ChildItem -Recurse -Force AI"
      - "Get-Content -Raw AI/README.md"
    notes: "Contenuti resi piu' pratici e coerenti per onboarding."
    risks:
      - "Placeholder da compilare nel progetto target."
  - step_id: "STEP-003"
    summary: "Rimossi duplicati non piu' previsti e allineata documentazione al flusso copia diretta di AI."
    commit: "N/A (no git repository)"
    files:
      - "AI/README.md"
      - "AI/AI_TASKS.md"
      - "AI/AI_INVENTORY.md"
      - "AI/AI_RUNBOOK.md"
      - "AI/DECISIONS.md"
      - "AI/METADATA.yaml"
      - "AI/KNOWLEDGE.yaml"
      - "AI/CHECKLISTS/SMOKE.md"
      - "AI/CHECKLISTS/RELEASE.md"
    commands:
      - "Get-ChildItem -Recurse -Force"
      - "rg -n -i \"legacy_ai_flow_markers\""
    notes: "Flusso ufficiale consolidato su modifica in-place della sola cartella AI."
    risks:
      - "Nessuno rilevante per il kit; resta la compilazione nel contesto target."
